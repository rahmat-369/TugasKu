<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>TugasKu - Update Tahap 4 v1.3.0</title>
  <meta name="app-version" content="1.3.0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="assets/my-icon.png">
  <link rel="stylesheet" href="css/style.css">
</head>

<div id="splash" style="position:fixed;inset:0;z-index:9999;background:#000;display:flex;align-items:center;justify-content:center;">
  <img src="assets/splash.png" alt="Splash" style="width:100%;height:100%;object-fit:cover;">
</div>

<div id="mainContent" style="display:none;">
  <!-- Semua isi web -->
</div>

<script>
  setTimeout(() => {
    document.getElementById('splash').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';
  }, 2500);
</script>

<body>
  <div id="mainContent">
    <div class="container">
      <header>
        <div class="brand">
          <div class="logo">
            <img src="assets/my-icon.png" alt="App Icon" class="app-icon">
          </div>
          <h1>TugasKu</h1>
        </div>
        <div class="header-actions">
          <!-- Tombol AI Chat (BARU) -->
          <a href="ai.html" class="icon-btn" title="AI Assistant">🤖</a>
          <button class="icon-btn" id="tipsBtn" title="Tips & Panduan">💡</button>
          <button class="icon-btn" id="notifBtn" title="Notifikasi">
            🔔
            <span class="badge" id="notifBadge" style="display:none;">0</span>
          </button>
          <button class="icon-btn" id="statsBtn" title="Statistik">📊</button>
          <button class="icon-btn" id="settingsBtn" title="Pengaturan">⚙️</button>
          <div class="settings-menu" id="settingsMenu">
            <div class="settings-item" data-action="theme">
              <span>🎨</span> Pilih Tema
            </div>
            <div class="settings-item" data-action="about">
              <span>ℹ️</span> Tentang
            </div>
            <div class="settings-item" data-action="reset">
              <span>🔄</span> Reset Data
            </div>
          </div>
        </div>
      </header>

      <div class="tab-navigation">
        <button class="tab-btn active" data-tab="tasks">Tugas</button>
        <button class="tab-btn" data-tab="schedule">Jadwal</button>
        <button class="tab-btn" data-tab="notes">Catatan</button>
      </div>

      <div class="tab-content active" id="tasksTab">
        <section class="form-section" aria-labelledby="formTitle">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px;flex-wrap:wrap">
            <strong id="formTitle" style="font-size:18px;">Tambah Tugas</strong>
            <div class="controls">
              <button id="openFormBtn" class="btn" aria-expanded="false">➕ Tambah</button>
              <button id="clearAll" class="filter-btn" title="Hapus semua tugas">🗑️ Hapus Semua</button>
            </div>
          </div>
          <form id="taskForm" style="display:none" aria-hidden="true" novalidate>
            <div class="field">
              <label for="taskSubject">Mata Pelajaran</label>
              <input type="text" id="taskSubject" placeholder="e.g. Matematika" required>
            </div>
            <div class="field">
              <label for="taskName">Nama Tugas</label>
              <input type="text" id="taskName" placeholder="e.g. PR Halaman 10" required>
            </div>
            <div class="field">
              <label for="taskDeadline">Deadline</label>
              <input type="date" id="taskDeadline" required>
            </div>
            <div class="field">
              <label for="taskNotes">Catatan (Opsional)</label>
              <textarea id="taskNotes" placeholder="Catatan tambahan..."></textarea>
            </div>
            <div class="field">
              <label for="taskPriority">Prioritas</label>
              <select id="taskPriority">
                <option value="low">Rendah</option>
                <option value="medium" selected>Sedang</option>
                <option value="high">Tinggi</option>
              </select>
            </div>
            <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:16px">
              <button type="submit" class="btn">💾 Simpan</button>
              <button type="button" id="cancelForm" class="filter-btn">❌ Batal</button>
            </div>
          </form>
        </section>
        <div class="filter-section" role="region" aria-label="Filter tugas">
          <button class="filter-btn active" data-filter="all">Semua</button>
          <button class="filter-btn" data-filter="new">Baru</button>
          <button class="filter-btn" data-filter="active">Belum Selesai</button>
          <button class="filter-btn" data-filter="done">Selesai</button>
          <button class="filter-btn" data-filter="today">Hari Ini</button>
          <button class="filter-btn" data-filter="tomorrow">Besok</button>
          <button class="filter-btn" data-filter="week">Minggu Ini</button>
          <button class="filter-btn" data-filter="overdue">Terlambat</button>
        </div>
        <div id="taskList"></div>
      </div>

      <div class="tab-content" id="scheduleTab">
        <section class="form-section" aria-labelledby="scheduleFormTitle">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px;flex-wrap:wrap">
            <strong id="scheduleFormTitle" style="font-size:18px;">Tambah Jadwal</strong>
            <div class="controls">
              <button id="addScheduleBtn" class="btn">➕ Tambah</button>
            </div>
          </div>
          <form id="scheduleForm" style="display:none" aria-hidden="true" novalidate>
            <div class="field">
              <label for="scheduleSubject">Mata Pelajaran</label>
              <input type="text" id="scheduleSubject" placeholder="e.g. Matematika" required>
            </div>
            <div class="field">
              <label for="scheduleDay">Hari</label>
              <select id="scheduleDay" required>
                <option value="">Pilih Hari</option>
                <option value="senin">Senin</option>
                <option value="selasa">Selasa</option>
                <option value="rabu">Rabu</option>
                <option value="kamis">Kamis</option>
                <option value="jumat">Jumat</option>
                <option value="sabtu">Sabtu</option>
              </select>
            </div>
            <div class="field">
              <label for="scheduleTime">Waktu</label>
              <input type="time" id="scheduleTime" required>
            </div>
            <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:16px">
              <button type="submit" class="btn">💾 Simpan</button>
              <button type="button" id="cancelScheduleForm" class="filter-btn">❌ Batal</button>
            </div>
          </form>
        </section>
        <div id="scheduleContainer"></div>
      </div>

      <div class="tab-content" id="notesTab">
        <section class="form-section" aria-labelledby="notesFormTitle">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px;flex-wrap:wrap">
            <strong id="notesFormTitle" style="font-size:18px;">Tambah Catatan</strong>
            <div class="controls">
              <button id="addNoteBtn" class="btn">➕ Tambah</button>
            </div>
          </div>
          <form id="noteForm" style="display:none" aria-hidden="true" novalidate>
            <div class="field">
              <label for="noteTitle">Judul Catatan</label>
              <input type="text" id="noteTitle" placeholder="Judul catatan..." required>
            </div>
            <div class="field">
              <label for="noteContent">Isi Catatan</label>
              <textarea id="noteContent" placeholder="Tulis catatan Anda di sini..." rows="6" required></textarea>
            </div>
            <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:16px">
              <button type="submit" class="btn">💾 Simpan</button>
              <button type="button" id="cancelNoteForm" class="filter-btn">❌ Batal</button>
            </div>
          </form>
        </section>
        <div id="notesList"></div>
      </div>
    </div>

    <button class="fab" id="fab" title="Tambah Tugas/Jadwal/Catatan">+</button>
    <div class="toast" id="toast"></div>
    <div class="watermark">by : Rahmat - v1.3.0</div>
  </div>

  <!-- Modal About -->
  <div class="modal-overlay" id="aboutModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Tentang TugasKu</h3>
        <button class="modal-close" id="closeAboutModal">&times;</button>
      </div>
      <div class="about-section">
        <div class="about-logo">
          <div class="logo">
            <img src="assets/my-icon.png" alt="App Icon" class="app-icon">
          </div>
          <h2>TugasKu</h2>
          <p>Aplikasi Manajemen Tugas Sederhana</p>
        </div>
        <h3>Fitur Utama</h3>
        <ul class="feature-list">
          <li>📝 Tambah dan kelola tugas harian</li>
          <li>📅 Jadwal pelajaran mingguan</li>
          <li>📝 Catatan pribadi</li>
          <li>🏷️ Filter tugas berdasarkan status dan deadline</li>
          <li>🎨 Pilihan tema yang beragam</li>
          <li>💾 Data tersimpan di browser (localStorage)</li>
          <li>📱 Responsif untuk mobile dan desktop</li>
          <li>🤖 AI Assistant untuk input otomatis</li>
        </ul>
        <h3 style="margin-top: 16px;">Versi: 1.3.0</h3>
        <p style="margin-top: 8px;">Tanggal apk di uat: 30 Agustus 2025</p>
        <p style="margin-top: 8px;">Pengembang: Rahmat, pelajar MA kelas 11</p>
        <p style="margin-top: 8px;">Dibuat sepenuhnya menggunakan Mobile (hp)</p>
        <p style="margin-top: 8px;">📩 Kontak: <a href="mailto:rohmatulloh.3609@gmail.com" style="color: var(--primary);">rohmatulloh.3609@gmail.com</a></p>
        <h3 style="margin-top: 24px;">Deskripsi</h3>
        <p>TugasKu adalah aplikasi manajemen tugas sederhana yang dirancang untuk membantu siswa mengatur tugas sekolah mereka dengan mudah. Dengan antarmuka yang bersih dan fitur yang lengkap, pengguna dapat dengan cepat menambahkan, melihat, dan mengelola tugas, jadwal pelajaran, serta catatan pribadi mereka.</p>
        <h3 style="margin-top: 24px;">Pesan dari developer </h3>
        <p>apk ini sepenuhnya menggunakan device kentang "Oppo A3s" (harusnya kalian tau lah yaa seberapa kentangnya ni hp), jadi mohon dimaklumi jika apk ini masih banyak kurangnya. dan sepertinya tidak akan ada update lagi. Saya selaku dev. apk mengucapkan banyak terimakasih telah menggunakan apk ini. jika ada bug yg bener² fatal, bisa kontak saya di email yg sudah tertera diatas.
        <div class="version-info">
          <p>© 2025 TugasKu. Hak Cipta Dilindungi.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Theme Selection Modal -->
  <div class="modal-overlay" id="themeModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Pilih Tema</h3>
        <button class="modal-close" id="closeThemeModal">&times;</button>
      </div>
      <div class="about-section">
        <div class="theme-option" data-theme="light">
          <div class="theme-preview" style="background: linear-gradient(135deg, #3B82F6, #2563EB);">☀️</div>
          <div>
            <div style="font-weight: 600;">Terang</div>
            <div style="font-size: 12px; color: var(--muted);">Tema terang standar</div>
          </div>
        </div>
        <div class="theme-option" data-theme="dark-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg, #0b1220, #0f1724);">🌙</div>
          <div>
            <div style="font-weight: 600;">Gelap</div>
            <div style="font-size: 12px; color: var(--muted);">Tema gelap standar</div>
          </div>
        </div>
        <div class="theme-option" data-theme="colorful-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);">🎨</div>
          <div>
            <div style="font-weight: 600;">Colorful (Terang)</div>
            <div style="font-size: 12px; color: var(--muted);">Tema warna-warni terang</div>
          </div>
        </div>
        <div class="theme-option" data-theme="dark-mode colorful-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg, #1e1b2e, #2a2540);">🎨</div>
          <div>
            <div style="font-weight: 600;">Colorful (Gelap)</div>
            <div style="font-size: 12px; color: var(--muted);">Tema warna-warni gelap</div>
          </div>
        </div>
        <div class="theme-option" data-theme="forest-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg, #10b981, #059669);">🌲</div>
          <div>
            <div style="font-weight: 600;">Forest (Terang)</div>
            <div style="font-size: 12px; color: var(--muted);">Tema hijau alami terang</div>
          </div>
        </div>
        <div class="theme-option" data-theme="dark-mode forest-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg, #064e3b, #047857);">🌲</div>
          <div>
            <div style="font-weight: 600;">Forest (Gelap)</div>
            <div style="font-size: 12px; color: var(--muted);">Tema hijau alami gelap</div>
          </div>
        </div>
        <div class="theme-option" data-theme="dark-mode ocean-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg,#082f49,#0c4a6e);">🌊</div>
          <div>
            <div style="font-weight:600;">Ocean (Gelap)</div>
            <div style="font-size:12px;color:var(--muted);">Biru laut malam</div>
          </div>
        </div>
        <div class="theme-option" data-theme="sakura-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg,#f472b6,#ec4899);">🌸</div>
          <div>
            <div style="font-weight:600;">Sakura</div>
            <div style="font-size:12px;color:var(--muted);">Pink blossom lembut</div>
          </div>
        </div>
        <div class="theme-option" data-theme="dark-mode sakura-mode">
          <div class="theme-preview" style="background: linear-gradient(135deg,#881337,#9f1239);">🌸</div>
          <div>
            <div style="font-weight:600;">Sakura (Gelap)</div>
            <div style="font-size:12px;color:var(--muted);">Pink blossom malam</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tips Modal -->
  <div class="modal-overlay" id="tipsModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Tips & Panduan Singkat</h3>
        <button class="modal-close" id="closeTipsModal">&times;</button>
      </div>
      <div class="about-section">
        <h4>Indikator Prioritas</h4>
        <p>Setiap tugas memiliki indikator prioritas berbentuk lingkaran berwarna di kiri judul:</p>
        <ul>
          <li><strong style="color:var(--priority-high)">●</strong> Merah = Prioritas Tinggi</li>
          <li><strong style="color:var(--priority-medium)">●</strong> Kuning = Prioritas Sedang</li>
          <li><strong style="color:var(--priority-low)">●</strong> Hijau = Prioritas Rendah</li>
        </ul>
        <h4>Teks Panjang</h4>
        <p>Nama tugas dan catatan kini dapat membungkus dan memiliki scrollbar bila sangat panjang. Arahkan kursor untuk melihat tooltip jika teks dipotong.</p>
        <h4>Filter & Notifikasi</h4>
        <p>Gunakan filter untuk melihat tugas berdasarkan status atau tanggal. Ikon notifikasi menampilkan jumlah tugas terlambat.</p>
        <h4>Tambah & Edit</h4>
        <p>Gunakan tombol ➕ atau FAB untuk menambah Tugas/Jadwal/Catatan. Untuk mengedit tugas, klik tombol ✏️ pada kartu tugas.</p>
        <h4>AI Assistant</h4>
        <p>Gunakan tombol 🤖 untuk mengakses AI Assistant yang dapat memahami perintah natural language untuk menambah tugas, jadwal, dan catatan secara otomatis.</p>
      </div>
    </div>
  </div>

  <!-- Stats Modal -->
  <div class="modal-overlay" id="statsModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Statistik Tugas</h3>
        <button class="modal-close" id="closeStatsModal">&times;</button>
      </div>
      <div class="about-section">
        <div class="chart-wrap">
          <canvas id="statusChart" class="chart-canvas"></canvas>
        </div>
        <div class="chart-wrap">
          <canvas id="priorityChart" class="chart-canvas"></canvas>
        </div>
        <div style="margin-top: 12px;">
          <h4>Ringkasan</h4>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-value" id="totalTasks">0</div>
              <div class="stat-label">Total Tugas</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="completedTasks">0</div>
              <div class="stat-label">Selesai</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="pendingTasks">0</div>
              <div class="stat-label">Belum Selesai</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="overdueTasks">0</div>
              <div class="stat-label">Terlambat</div>
            </div>
          </div>
          <div style="margin-top: 24px;">
            <h4>Prioritas Tugas</h4>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value" id="highPriorityTasks">0</div>
                <div class="stat-label">Tinggi</div>
              </div>
              <div class="stat-card">
                <div class="stat-value" id="mediumPriorityTasks">0</div>
                <div class="stat-label">Sedang</div>
              </div>
              <div class="stat-card">
                <div class="stat-value" id="lowPriorityTasks">0</div>
                <div class="stat-label">Rendah</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/app.js"></script>
</body>
</html>